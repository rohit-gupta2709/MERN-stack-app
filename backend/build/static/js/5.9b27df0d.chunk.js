(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[5],{68:function(e,t,r){"use strict";var c=r(20),n=r(0),a=r(86),s=r(82),i=r(1);t.a=function(e){var t=e.message,r=e.changeError;console.log(t);var o=Object(n.useState)(!0),l=Object(c.a)(o,2),u=l[0],d=l[1],j=function(){d(!1),r()};return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(a.a,{show:u,onHide:j,children:[Object(i.jsx)(a.a.Header,{closeButton:!0,children:Object(i.jsx)(a.a.Title,{children:"ERROR"})}),Object(i.jsx)(a.a.Body,{children:t}),Object(i.jsx)(a.a.Footer,{children:Object(i.jsx)(s.a,{variant:"secondary",onClick:j,children:"Close"})})]})})}},69:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var c=r(66),n=r.n(c),a=r(67),s=r(20),i=r(0),o=function(){var e=Object(i.useState)(!1),t=Object(s.a)(e,2),r=t[0],c=t[1],o=Object(i.useState)(),l=Object(s.a)(o,2),u=l[0],d=l[1],j=Object(i.useRef)([]),b=Object(i.useCallback)(function(){var e=Object(a.a)(n.a.mark((function e(t){var r,a,s,i,o,l,u=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"GET",a=u.length>2&&void 0!==u[2]?u[2]:null,s=u.length>3&&void 0!==u[3]?u[3]:{},c(!0),i=new AbortController,j.current.push(i),e.prev=6,e.next=9,fetch(t,{method:r,body:a,headers:s,signal:i.signal});case 9:return o=e.sent,e.next=12,o.json();case 12:if(l=e.sent,j.current=j.current.filter((function(e){return e!==i})),o.ok){e.next=16;break}throw new Error(l.message);case 16:return c(!1),e.abrupt("return",l);case 20:throw e.prev=20,e.t0=e.catch(6),c(!1),d(e.t0.message),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(i.useEffect)((function(){return function(){j.current.forEach((function(e){return e.abort()}))}}),[]),{loading:r,error:u,sendRequest:b,clearError:function(){d(null)}}}},71:function(e,t,r){"use strict";r(0),r(72);var c=r(1);t.a=function(e){return Object(c.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})}},72:function(e,t,r){},80:function(e,t,r){},81:function(e,t,r){},88:function(e,t,r){"use strict";r.r(t);var c=r(66),n=r.n(c),a=r(67),s=r(20),i=r(0),o=r(5),l=(r(80),r(71)),u=r(13),d=(r(81),r(82)),j=r(86),b=r(21),h=r(69),O=r(31),f=r(68),p=r(1),x=function(e){var t=e.place,r=e.deletePlace,c=Object(i.useContext)(b.a),o=Object(i.useState)(!1),l=Object(s.a)(o,2),x=l[0],m=l[1],v=Object(h.a)(),g=v.loading,k=v.error,N=v.sendRequest,w=v.clearError,y=function(){return m(!1)},E=function(){var e=Object(a.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!1),e.prev=1,e.next=4,N("https://rohit-mern-project.herokuapp.com/api"+"/places/".concat(t._id),"DELETE",null,{Authorization:"Bearor "+c.token});case 4:r(t._id),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return console.log(t),Object(p.jsxs)(p.Fragment,{children:[g&&Object(p.jsx)("div",{className:"center",children:Object(p.jsx)(O.a,{})}),k&&Object(p.jsx)(f.a,{message:k,changeError:w}),Object(p.jsxs)("div",{className:"card place-item",children:[Object(p.jsx)("img",{className:"card-img-top",src:t.image.url,alt:t.title}),Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsx)("h5",{className:"card-title",children:t.title}),Object(p.jsx)("p",{className:"card-text",children:t.description}),Object(p.jsx)("p",{className:"card-text",children:t.address})]}),Object(p.jsxs)("div",{className:"card-body",children:[c.isLoggedIn&&c.userId===t.creator&&Object(p.jsx)(u.b,{to:"/places/".concat(t._id),className:"card-link btn btn-warning",children:"Edit"}),c.isLoggedIn&&c.userId===t.creator&&Object(p.jsx)(d.a,{className:"card-link",variant:"danger",onClick:function(){return m(!0)},children:"Delete"}),Object(p.jsxs)(j.a,{show:x,onHide:y,children:[Object(p.jsx)(j.a.Header,{closeButton:!0,children:Object(p.jsx)(j.a.Title,{children:"Confirmation required"})}),Object(p.jsx)(j.a.Body,{children:"Are you sure you want to delete?"}),Object(p.jsxs)(j.a.Footer,{children:[Object(p.jsx)(d.a,{variant:"secondary",onClick:y,children:"Close"}),Object(p.jsx)(d.a,{variant:"primary",onClick:E,children:"Delete"})]})]})]})]})]})},m=function(e){var t=e.items,r=e.deletePlace;return 0===t.length?Object(p.jsx)("div",{className:"place-list center",children:Object(p.jsxs)(l.a,{children:[Object(p.jsx)("h2",{children:"No place found. Maybe create One? "}),Object(p.jsx)(u.b,{className:"btn btn-primary",to:"/places/new",children:"Share Place"})]})}):Object(p.jsx)("ul",{className:"place-list",children:Object(p.jsx)("div",{className:"card-group",children:t.map((function(e){return Object(p.jsx)(x,{place:e,deletePlace:r},e._id)}))})})};t.default=function(){var e=Object(h.a)(),t=e.loading,r=e.error,c=e.sendRequest,l=e.clearError,u=Object(i.useState)(),d=Object(s.a)(u,2),j=d[0],b=d[1],x=Object(o.h)().userId;Object(i.useEffect)((function(){(function(){var e=Object(a.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c("https://rohit-mern-project.herokuapp.com/api"+"/places/user/".concat(x));case 3:t=e.sent,b(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[c,x]);return Object(p.jsxs)(p.Fragment,{children:[t&&Object(p.jsx)("div",{className:"center",children:Object(p.jsx)(O.a,{})}),r&&Object(p.jsx)(f.a,{message:r,changeError:l}),!t&&j&&Object(p.jsx)(m,{items:j,deletePlace:function(e){console.log(e),b((function(t){return t.filter((function(t){return t._id!==e}))}))}})]})}}}]);
//# sourceMappingURL=5.9b27df0d.chunk.js.map